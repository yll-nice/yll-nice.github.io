<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5">
    <title>AIæ™ºèƒ½ç®—å‘½ Â· å…«å­—ç´«å¾®æ–—æ•°</title>
    <style>
        /* å®Œå…¨ç›¸åŒçš„æ ·å¼ä»£ç ï¼Œä¸ºäº†èŠ‚çœç¯‡å¹…çœç•¥ï¼Œè¯·ç›´æ¥å¤åˆ¶ä¸Šé¢å›ç­”ä¸­çš„å®Œæ•´styleéƒ¨åˆ† */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Noto Serif SC", "Microsoft YaHei", "å®‹ä½“", serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e2b3c 0%, #2c3e50 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,215,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #c49b1f;
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            letter-spacing: 8px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-style: italic;
            border-bottom: 1px dashed #c49b1f;
            padding-bottom: 15px;
        }
        
        .input-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
            font-size: 1.1em;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: all 0.3s;
            background: white;
        }
        
        input:focus, select:focus {
            border-color: #c49b1f;
            outline: none;
            box-shadow: 0 0 0 3px rgba(196,155,31,0.2);
        }
        
        .row {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .row .input-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        button {
            width: 100%;
            padding: 16px;
            font-size: 1.3em;
            font-weight: bold;
            background: linear-gradient(135deg, #c49b1f, #8b6914);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            letter-spacing: 10px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(196,155,31,0.4);
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(196,155,31,0.6);
            background: linear-gradient(135deg, #d4aa2a, #9c7a1a);
        }
        
        .result-card {
            background: linear-gradient(145deg, #f9f7f3, #fff);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border-left: 8px solid #c49b1f;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.03);
        }
        
        .badge {
            display: inline-block;
            padding: 5px 15px;
            background: #2c3e50;
            color: white;
            border-radius: 20px;
            font-size: 0.9em;
            margin-right: 10px;
        }
        
        .fortune-good { color: #27ae60; }
        .fortune-normal { color: #e67e22; }
        .fortune-bad { color: #e74c3c; }
        
        .detail-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .detail-item {
            background: #f0eee9;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        
        .detail-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #999;
            font-size: 0.85em;
        }
        
        @media (max-width: 480px) {
            .container { padding: 20px; }
            .row { flex-direction: column; gap: 0; }
            .detail-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¯ ç„æœºé˜</h1>
        <div class="subtitle">â€”â€” çŸ¥å‘½ Â· é€ è¿ Â· é¡ºå¤©è¡Œ â€”â€”</div>
        
        <!-- è¾“å…¥è¡¨å• -->
        <div class="input-group">
            <label>ğŸ“› å°Šå§“å¤§å</label>
            <input type="text" id="userName" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" value="ç¼˜ä¸»">
        </div>
        
        <div class="row">
            <div class="input-group">
                <label>ğŸ“… å‡ºç”Ÿæ—¥æœŸ</label>
                <input type="date" id="birthDate">
            </div>
            <div class="input-group">
                <label>â° å‡ºç”Ÿæ—¶è¾°</label>
                <select id="birthHour">
                    <option value="å­">å­æ—¶ (23:00-01:00)</option>
                    <option value="ä¸‘">ä¸‘æ—¶ (01:00-03:00)</option>
                    <option value="å¯…">å¯…æ—¶ (03:00-05:00)</option>
                    <option value="å¯" selected>å¯æ—¶ (05:00-07:00)</option>
                    <option value="è¾°">è¾°æ—¶ (07:00-09:00)</option>
                    <option value="å·³">å·³æ—¶ (09:00-11:00)</option>
                    <option value="åˆ">åˆæ—¶ (11:00-13:00)</option>
                    <option value="æœª">æœªæ—¶ (13:00-15:00)</option>
                    <option value="ç”³">ç”³æ—¶ (15:00-17:00)</option>
                    <option value="é…‰">é…‰æ—¶ (17:00-19:00)</option>
                    <option value="æˆŒ">æˆŒæ—¶ (19:00-21:00)</option>
                    <option value="äº¥">äº¥æ—¶ (21:00-23:00)</option>
                </select>
            </div>
        </div>
        
        <div class="row">
            <div class="input-group">
                <label>âš¥ æ€§åˆ«</label>
                <select id="gender">
                    <option value="ç”·">ä¹¾é€  Â· ç”·</option>
                    <option value="å¥³">å¤é€  Â· å¥³</option>
                </select>
            </div>
            <div class="input-group">
                <label>ğŸ”® æµ‹ç®—é¡¹ç›®</label>
                <select id="fortuneType">
                    <option value="general">ç»¼åˆè¿åŠ¿ Â· å…¨ç›˜è§£æ</option>
                    <option value="wealth">è´¢è¿ Â· è´¢å¸›å®«</option>
                    <option value="career">äº‹ä¸š Â· å®˜ç¦„å®«</option>
                    <option value="love">å§»ç¼˜ Â· å¤«å¦»å®«</option>
                    <option value="health">å¥åº· Â· ç–¾å„å®«</option>
                </select>
            </div>
        </div>
        
        <button onclick="calculateFortune()">ğŸ”® èµ·å¦æµ‹ç®—</button>
        
        <!-- ç»“æœå±•ç¤ºåŒº -->
        <div id="resultArea" style="display: none;">
            <div class="result-card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h2 style="color: #2c3e50;" id="greetingText">ç¼˜ä¸»ï¼Œæ‚¨å¥½</h2>
                    <span class="badge" id="zodiacBadge">ç”Ÿè‚–ï¼šé¾™</span>
                </div>
                
                <div style="font-size: 1.2em; margin-bottom: 20px; padding: 10px; background: #fff3cd; border-radius: 8px;" id="mainFortune">
                    å¤§å‰å¤§åˆ©ï¼Œä¸‡äº‹å¦‚æ„
                </div>
                
                <div class="detail-grid">
                    <div class="detail-item">
                        <div class="detail-label">å…«å­—</div>
                        <div class="detail-value" id="baziText">è¾›é…‰ ç”²åˆ ä¸™å¯… æˆŠå­</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">äº”è¡Œ</div>
                        <div class="detail-value" id="wuxingText">é‡‘æœ¨æ°´ç«åœŸ</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">å‘½å®«ä¸»æ˜Ÿ</div>
                        <div class="detail-value" id="mainStar">ç´«å¾®</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">å¤§è¿</div>
                        <div class="detail-value" id="dayunText">3-12å²</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <h4 style="color: #c49b1f; margin-bottom: 10px;">ğŸ“‹ è¯¦ç»†è§£è¯»</h4>
                    <p id="detailText" style="line-height: 1.8; color: #444;">
                        å‘½ç›˜æ˜¾ç¤ºæ‚¨ä»Šæ—¥æ°”åœºå¼ºå¤§ï¼Œé€‚åˆåšå‡ºé‡è¦å†³ç­–ã€‚
                    </p>
                </div>
                
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px dashed #ccc;">
                    <p style="color: #888; font-size: 0.9em;">
                        âš ï¸ æµ‹ç®—ç»“æœç”±AIç”Ÿæˆï¼Œä»…ä¾›å¨±ä¹ã€‚å‘½è¿æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ã€‚
                    </p>
                </div>
            </div>
        </div>
        
        <div class="footer">
            Â© ç„æœºé˜ Â· ä¼ æ‰¿åƒå¹´æ˜“å­¦æ™ºæ…§ Â· å³æ—¶åœ¨çº¿èµ·å¦
        </div>
    </div>

    <script>
        // ç¡®ä¿å‡½æ•°åœ¨å…¨å±€ä½œç”¨åŸŸ
        window.calculateFortune = function() {
            console.log('èµ·å¦æµ‹ç®—å¼€å§‹...');
            
            // è·å–è¾“å…¥å€¼
            const name = document.getElementById('userName').value || 'ç¼˜ä¸»';
            const birthDate = document.getElementById('birthDate').value;
            const birthHour = document.getElementById('birthHour').value;
            const gender = document.getElementById('gender').value;
            const fortuneType = document.getElementById('fortuneType').value;
            
            // éªŒè¯å¿…å¡«é¡¹
            if (!birthDate) {
                alert('è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸï¼');
                return;
            }
            
            // è®¾ç½®é»˜è®¤æ—¥æœŸï¼ˆå¦‚æœæ²¡æœ‰é€‰æ‹©ï¼‰
            let date;
            if (birthDate) {
                date = new Date(birthDate);
            } else {
                date = new Date('1990-01-01');
            }
            
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            
            // æ•°æ®å®šä¹‰
            const zodiacs = ['ğŸ­ é¼ ', 'ğŸ® ç‰›', 'ğŸ¯ è™', 'ğŸ° å…”', 'ğŸ² é¾™', 'ğŸ è›‡', 'ğŸ´ é©¬', 'ğŸ‘ ç¾Š', 'ğŸµ çŒ´', 'ğŸ” é¸¡', 'ğŸ¶ ç‹—', 'ğŸ· çŒª'];
            const heavenlyStems = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
            const earthlyBranches = ['å­', 'ä¸‘', 'å¯…', 'å¯', 'è¾°', 'å·³', 'åˆ', 'æœª', 'ç”³', 'é…‰', 'æˆŒ', 'äº¥'];
            const fiveElements = ['é‡‘', 'æœ¨', 'æ°´', 'ç«', 'åœŸ'];
            const starMaster = ['ç´«å¾®', 'å¤©æœº', 'å¤ªé˜³', 'æ­¦æ›²', 'å¤©åŒ', 'å»‰è´', 'å¤©åºœ', 'å¤ªé˜´', 'è´ªç‹¼', 'å·¨é—¨', 'å¤©ç›¸', 'å¤©æ¢', 'ä¸ƒæ€', 'ç ´å†›'];
            
            // å‘½ç†è§£è¯»åº“
            const fortuneDetails = {
                general: [
                    'å‘½å®«ç´«å¾®åå®ˆï¼Œå¸ç‹ä¹‹ç›¸ï¼Œè¿‘æœŸæœ‰è´µäººç›¸åŠ©ï¼Œäº‹ä¸šå¯æœŸã€‚',
                    'å¤©æœºåŒ–ç¦„ï¼Œæ™ºæ…§å¤§å¼€ï¼Œé€‚åˆå­¦ä¹ æ–°æŠ€èƒ½æˆ–è§£å†³ç–‘éš¾é—®é¢˜ã€‚',
                    'å¤ªé˜³ç…§å‘½ï¼Œå…‰æ˜ç£Šè½ï¼Œäººé™…å…³ç³»å’Œè°ï¼Œæ˜“å¾—ä»–äººä¿¡ä»»ã€‚',
                    'æ­¦æ›²åŒ–æƒï¼Œè´¢è¿äº¨é€šï¼Œæ­£è´¢åè´¢çš†æœ‰æ”¶è·ã€‚',
                    'å¤©åŒåŒ–å¿Œï¼Œéœ€æ³¨æ„æƒ…ç»ªç®¡ç†ï¼Œé¿å…å› å°å¤±å¤§ã€‚',
                    'å»‰è´åŒ–ç¦„ï¼Œæ¡ƒèŠ±æ—ºç››ï¼Œå•èº«è€…æ˜“é‡è‰¯ç¼˜ã€‚',
                    'å¤©åºœå®ˆè´¢ï¼Œç§¯è“„å¢åŠ ï¼Œä½†éœ€é˜²å°äººçª¥è§†ã€‚',
                    'å¤ªé˜´ç…§å‘½ï¼Œå†…å¿ƒå®é™ï¼Œé€‚åˆä¿®èº«å…»æ€§ã€‚',
                    'è´ªç‹¼å…¥å‘½ï¼Œäº¤é™…æ´»è·ƒï¼Œåº”é…¬å¢å¤šï¼ŒæŠŠæ¡äººè„‰å•†æœºã€‚',
                    'å·¨é—¨åŒ–æƒï¼Œå£æ‰å‡ºä¼—ï¼Œé€‚åˆè°ˆåˆ¤ã€æ¼”è®²ã€‚'
                ],
                wealth: [
                    'è´¢å¸›å®«æ­¦æ›²åŒ–ç¦„ï¼Œæ­£è´¢ç¨³å®šï¼Œå¯è€ƒè™‘é•¿æœŸæŠ•èµ„ã€‚',
                    'å¤ªé˜´å®ˆè´¢ï¼Œé€‚åˆæˆ¿äº§ã€æ”¶è—ç±»æŠ•èµ„ã€‚',
                    'è´ªç‹¼åŒ–å¿Œï¼Œæ…é˜²æŠ•æœºé£é™©ï¼Œå‹¿è´ªå¿«é’±ã€‚',
                    'å¤©åºœå¾—åœ°ï¼Œæ”¶å…¥ç¨³æ­¥å¢é•¿ï¼Œå®œå‚¨è“„ã€‚',
                    'ç ´å†›åŒ–ç¦„ï¼Œæ„å¤–ä¹‹è´¢ï¼Œä½†æ¥å¾—å¿«å»å¾—å¿«ã€‚'
                ],
                career: [
                    'å®˜ç¦„å®«ç´«å¾®ï¼Œæœ‰é¢†å¯¼æ‰èƒ½ï¼Œè¿‘æœŸæœ‰æ™‹å‡æœºä¼šã€‚',
                    'å¤©æœºå®ˆäº‹ä¸šï¼Œé€‚åˆç­–åˆ’ã€å’¨è¯¢ç±»å·¥ä½œã€‚',
                    'å¤ªé˜³åŒ–æƒï¼Œå¾—ä¸Šçº§èµè¯†ï¼Œå¯ä¸»åŠ¨äº‰å–é¡¹ç›®ã€‚',
                    'æ­¦æ›²ä¸´å®˜ï¼Œæ‰§è¡ŒåŠ›å¼ºï¼Œä¸šç»©çªå‡ºã€‚',
                    'å¤©æ¢åŒ–ç§‘ï¼Œé€‚åˆæ•™è‚²ã€åŒ»ç–—ã€å…¬ç›Šäº‹ä¸šã€‚'
                ],
                love: [
                    'å¤«å¦»å®«å»‰è´åŒ–ç¦„ï¼Œæ„Ÿæƒ…ç”œèœœï¼Œå•èº«è€…æ˜“é‡æ­£ç¼˜ã€‚',
                    'è´ªç‹¼å…¥æ¡ƒèŠ±ï¼Œé­…åŠ›å››å°„ï¼Œä½†éœ€é˜²çƒ‚æ¡ƒèŠ±ã€‚',
                    'å¤ªé˜´å®ˆå¤«å¦»ï¼Œé…å¶æ¸©æŸ”ä½“è´´ï¼Œå®¶åº­å’Œç¦ã€‚',
                    'å·¨é—¨åŒ–å¿Œï¼Œæ³¨æ„æ²Ÿé€šæ–¹å¼ï¼Œé¿å…å£èˆŒã€‚',
                    'å¤©ç›¸å¾—åœ°ï¼Œå§»ç¼˜ç¨³å®šï¼Œé€‚åˆè®¢å©šã€ç»“å©šã€‚'
                ],
                health: [
                    'ç–¾å„å®«å¤©æ¢ï¼Œä½“è´¨è¾ƒå¥½ï¼Œæ³¨æ„è‚ èƒƒä¿å…»ã€‚',
                    'ä¸ƒæ€å®ˆç–¾å„ï¼Œç²¾åŠ›æ—ºç››ï¼Œä½†é˜²æ„å¤–ä¼¤ç¾ã€‚',
                    'ç ´å†›åŒ–ç¦„ï¼Œç—…ç—›é€Ÿæ„ˆï¼Œåº·å¤èƒ½åŠ›å¼ºã€‚',
                    'å¤©åŒåŒ–å¿Œï¼Œæ³¨æ„æƒ…ç»ªå‹åŠ›ï¼Œé€‚å½“æ”¾æ¾ã€‚',
                    'å¤ªé˜³ç…§ç–¾å„ï¼Œå¿ƒè‚ºåŠŸèƒ½ä½³ï¼Œå¤šæ™’å¤ªé˜³æœ‰ç›Šã€‚'
                ]
            };
            
            // === 1. è®¡ç®—ç”Ÿè‚– ===
            const zodiacIndex = (year - 4) % 12;
            const zodiac = zodiacs[zodiacIndex >= 0 ? zodiacIndex : zodiacIndex + 12];
            
            // === 2. è®¡ç®—å…«å­— ===
            const stemIndex = (year - 3) % 10;
            const branchIndex = (year - 3) % 12;
            const monthStem = heavenlyStems[(stemIndex + month) % 10];
            const monthBranch = earthlyBranches[(month + 1) % 12];
            const dayStem = heavenlyStems[(day + stemIndex) % 10];
            const dayBranch = earthlyBranches[(day + branchIndex) % 12];
            
            // å¤„ç†æ—¶è¾°
            let hourBranch = birthHour || 'å¯';
            let hourIndex = earthlyBranches.indexOf(hourBranch);
            if (hourIndex === -1) hourIndex = 3; // é»˜è®¤å¯æ—¶
            
            const hourStem = heavenlyStems[(heavenlyStems.indexOf(dayStem) + hourIndex) % 10];
            
            const bazi = `${heavenlyStems[stemIndex >= 0 ? stemIndex : stemIndex + 10]}${earthlyBranches[branchIndex >= 0 ? branchIndex : branchIndex + 12]} ${monthStem}${monthBranch} ${dayStem}${dayBranch} ${hourStem}${hourBranch}`;
            
            // === 3. è®¡ç®—äº”è¡Œ ===
            const elementIndex = Math.abs(year % 5);
            const element = fiveElements[elementIndex];
            const element2 = fiveElements[(elementIndex + 2) % 5];
            const wuxing = `${element}${element2}å‘½ Â· ${element}å¤š${element2}å°‘`;
            
            // === 4. å‘½å®«ä¸»æ˜Ÿ ===
            const starIndex = Math.abs((year + month + day) % starMaster.length);
            const mainStar = starMaster[starIndex];
            
            // === 5. å¤§è¿å¹´é¾„ ===
            const startYear = (year % 10) + 1;
            const dayun = `${startYear}-${startYear + 9}å²`;
            
            // === 6. ä¸»è¿åŠ¿ ===
            const fortuneArray = fortuneDetails[fortuneType] || fortuneDetails.general;
            const fortuneIndex = Math.abs((year + month + day + hourIndex) % fortuneArray.length);
            let fortuneText = fortuneArray[fortuneIndex];
            
            if (gender === 'ç”·') {
                fortuneText += ' ä¹¾é€ é˜³åˆšï¼Œå®œä¸»åŠ¨è¿›å–ã€‚';
            } else {
                fortuneText += ' å¤é€ æŸ”é¡ºï¼Œå®œä»¥æŸ”å…‹åˆšã€‚';
            }
            
            // === 7. å‰å‡¶è¯„åˆ† ===
            const score = Math.abs((year + month + day + hourIndex + name.length) % 100);
            let fortuneLevel, fortuneClass, fortuneEmoji;
            
            if (score > 80) {
                fortuneLevel = 'å¤§å‰';
                fortuneClass = 'fortune-good';
                fortuneEmoji = 'ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ';
            } else if (score > 60) {
                fortuneLevel = 'ä¸Šå‰';
                fortuneClass = 'fortune-good';
                fortuneEmoji = 'ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ';
            } else if (score > 40) {
                fortuneLevel = 'ä¸­å¹³';
                fortuneClass = 'fortune-normal';
                fortuneEmoji = 'ğŸŒŸğŸŒŸğŸŒŸ';
            } else if (score > 20) {
                fortuneLevel = 'å°å‡¶';
                fortuneClass = 'fortune-bad';
                fortuneEmoji = 'ğŸŒŸğŸŒŸ';
            } else {
                fortuneLevel = 'å¤§å‡¶';
                fortuneClass = 'fortune-bad';
                fortuneEmoji = 'ğŸŒŸ';
            }
            
            // å»ºè®®
            const suggestions = [
                'å®œï¼šç­¾çº¦ã€å‡ºè¡Œã€ä¼šå‹ | å¿Œï¼šæŠ•èµ„ã€äº‰åµã€ç†¬å¤œ',
                'å¹¸è¿è‰²ï¼šçº¢è‰²ã€é‡‘è‰² | å¹¸è¿æ•°ï¼š3ã€7ã€9',
                'å¹¸è¿æ–¹ä½ï¼šä¸œå—æ–¹ | è´µäººï¼šå±è›‡ã€å±é¸¡è€…',
                'å®œï¼šå­¦ä¹ ã€è§„åˆ’ã€é™å¿ƒ | å¿Œï¼šå†²åŠ¨å†³ç­–',
                'å®œï¼šç¤¾äº¤ã€å±•ç¤ºæ‰å | å¿Œï¼šç‹¬æ–­ä¸“è¡Œ'
            ];
            const suggestion = suggestions[score % suggestions.length];
            
            // === 8. æ›´æ–°ç•Œé¢ ===
            document.getElementById('greetingText').innerHTML = `ğŸ§§ ${name} Â· å‘½ç›˜è§£æ`;
            document.getElementById('zodiacBadge').innerHTML = `ç”Ÿè‚–ï¼š${zodiac}`;
            
            const mainFortuneHtml = `
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 1.5rem;">${fortuneEmoji}</span>
                    <span style="font-size: 1.8rem; font-weight: bold; color: #c49b1f;">${fortuneLevel}</span>
                    <span style="font-size: 1.5rem;">${fortuneEmoji}</span>
                </div>
                <div style="margin-top: 10px; font-size: 1.1rem; color: #2c3e50;">
                    ç»¼åˆå¾—åˆ†ï¼š${score}åˆ†
                </div>
                <div style="margin-top: 8px; color: #666;">
                    ${suggestion}
                </div>
            `;
            document.getElementById('mainFortune').innerHTML = mainFortuneHtml;
            
            document.getElementById('baziText').innerHTML = bazi;
            document.getElementById('wuxingText').innerHTML = wuxing;
            document.getElementById('mainStar').innerHTML = mainStar;
            document.getElementById('dayunText').innerHTML = dayun;
            
            // è¯¦ç»†è§£è¯»
            let detailHtml = `
                <p><strong>å…«å­—æ’ç›˜ï¼š</strong>${bazi}</p>
                <p><strong>å‘½ä¸»ï¼š</strong>${mainStar}æ˜Ÿ Â· ${element}${element2}å‘½æ ¼</p>
                <p><strong>è¿åŠ¿è§£è¯»ï¼š</strong>${fortuneText}</p>
                <p><strong>å¼€è¿å»ºè®®ï¼š</strong>${suggestion}</p>
                <p style="margin-top: 15px; font-style: italic; color: #c49b1f;">
                    â€œä¸€å‘½äºŒè¿ä¸‰é£æ°´ï¼Œå››ç§¯é˜´å¾·äº”è¯»ä¹¦â€ â€”â€” çŸ¥å‘½è€Œåé€ è¿ï¼Œæ–¹ä¸ºæ™ºè€…ã€‚
                </p>
            `;
            document.getElementById('detailText').innerHTML = detailHtml;
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultArea').style.display = 'block';
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth' });
            
            console.log('æµ‹ç®—å®Œæˆï¼');
        }

        // é¡µé¢åŠ è½½å®Œæˆåè®¾ç½®é»˜è®¤æ—¥æœŸ
        window.onload = function() {
            // è®¾ç½®é»˜è®¤æ—¥æœŸä¸º30å¹´å‰
            const today = new Date();
            const defaultDate = new Date(today.getFullYear() - 30, today.getMonth(), today.getDate());
            const year = defaultDate.getFullYear();
            const month = String(defaultDate.getMonth() + 1).padStart(2, '0');
            const day = String(defaultDate.getDate()).padStart(2, '0');
            document.getElementById('birthDate').value = `${year}-${month}-${day}`;
            
            // è§¦å‘ä¸€æ¬¡é»˜è®¤æµ‹ç®—ï¼Œæ˜¾ç¤ºç¤ºä¾‹
            setTimeout(() => {
                window.calculateFortune();
            }, 100);
        };
    </script>
</body>
</html>
